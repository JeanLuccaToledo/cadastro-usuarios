<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Usuário</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>
    <div class="container">
        <h2>Cadastro de Usuário</h2>
        <form id="cadastroForm">
            <div class="form-group">
                <label>Nome:</label>
                <input type="text" id="nome" required>
            </div>

            <div class="form-group">
                <label>Email:</label>
                <input type="email" id="email" required>
            </div>

            <div class="form-group">
                <label>Telefone:</label>
                <input type="text" id="telefone">
            </div>

            <div class="form-group">
                <label>Data de Nascimento:</label>
                <input type="date" id="data_nascimento">
            </div>

            <div class="form-group">
                <label>CPF:</label>
                <input type="text" id="cpf">
            </div>

            <div class="form-group">
                <label>Endereço:</label>
                <input type="text" id="endereco">
            </div>

            <div class="form-group">
                <label>Cidade:</label>
                <input type="text" id="cidade">
            </div>

            <div class="form-group">
                <label>Estado:</label>
                <input type="text" id="estado">
            </div>

            <div class="form-group">
                <label>País:</label>
                <input type="text" id="pais" value="Brasil">
            </div>

            <button type="submit">Cadastrar</button>
        </form>
    </div>

    <script>
        document.getElementById("cadastroForm").addEventListener("submit", async function(event) {
            event.preventDefault();

            let formData = new FormData();
            formData.append("nome", document.getElementById("nome").value);
            formData.append("email", document.getElementById("email").value);
            formData.append("telefone", document.getElementById("telefone").value);
            formData.append("data_nascimento", document.getElementById("data_nascimento").value);
            formData.append("cpf", document.getElementById("cpf").value);
            formData.append("endereco", document.getElementById("endereco").value);
            formData.append("cidade", document.getElementById("cidade").value);
            formData.append("estado", document.getElementById("estado").value);
            formData.append("pais", document.getElementById("pais").value);

            let response = await fetch("/cadastro", {
                method: "POST",
                body: formData
            });

            let result = await response.json();
            alert(result.message || result.error);
        });
    </script>
</body>
</html>
